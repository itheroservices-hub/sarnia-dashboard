<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Real-time community information dashboard for Sarnia, Ontario - border wait times, transit, weather, news, and events.">
  <meta name="theme-color" content="#1e3a8a">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Sarnia Dashboard">
  <title>Sarnia Community Dashboard</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/SarniaCommunityDashboardlogo.png">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#121b38',
            secondary: '#1e3a8a',
            accent: '#c62828',
            'border-gray': '#e5e7eb',
          }
        }
      }
    }
  </script>
  
  <!-- Custom CSS for components Tailwind doesn't cover -->
  <link rel="stylesheet" href="style-custom.css">
  
  <link rel="icon" href="assets/logo/IThero logo with red.png" type="image/png">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="assets/SarniaCommunityDashboardlogo.png">
</head>

<body class="bg-gray-50 font-sans antialiased">
  
  <!-- Fixed Top Navigation Bar -->
  <header class="fixed top-0 left-0 right-0 bg-gradient-to-r from-primary via-blue-800 to-secondary text-white shadow-lg z-50">
    <div class="flex flex-col md:flex-row items-center justify-between px-4 py-3 md:py-4 gap-3 md:gap-4">
      
      <!-- Left: Clock -->
      <div class="flex-1 flex justify-center md:justify-start">
        <div id="clock" class="text-center md:text-left" aria-label="Current time and date" aria-live="polite">
          <div class="text-lg md:text-xl font-bold">--:--</div>
          <div class="text-xs md:text-sm opacity-90">--/--</div>
        </div>
      </div>
      
      <!-- Center: Logo -->
      <div class="flex-1 flex justify-center">
        <img src="assets/SarniaCommunityDashboardlogo.png" alt="Sarnia Community Dashboard" class="h-10 md:h-12 lg:h-14 object-contain">
      </div>
      
      <!-- Right: Weather -->
      <div class="flex-1 flex justify-center md:justify-end">
        <div id="weather" class="flex items-center gap-2 text-sm md:text-base" aria-label="Current weather conditions" aria-live="polite">
          <img src="" alt="" class="weather-icon w-8 h-8 hidden">
          <span class="weather-text">Loading weather...</span>
        </div>
      </div>
      
    </div>
  </header>

  <!-- Main Dashboard Content -->
  <main class="pt-32 md:pt-24 px-3 md:px-6 lg:px-8 pb-8 max-w-[2560px] mx-auto">
    
    <!-- Responsive Grid: 1 col mobile, 2 col tablet, 3 col desktop -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
      
      <!-- Border Wait Times + VIA Rail -->
      <section id="border-wait" class="bg-white rounded-lg shadow-md border border-border-gray overflow-hidden flex flex-col">
        <div class="bg-gradient-to-r from-primary to-secondary text-white px-4 py-3 flex items-center justify-between">
          <h2 class="text-base md:text-lg font-bold">Border Wait Times</h2>
          <span id="border-time" class="text-xs bg-white/20 px-2 py-1 rounded">Updating...</span>
        </div>
        <div id="border-data" class="p-4 flex-1 overflow-y-auto lg:overflow-visible lg:max-h-none max-h-80 space-y-3">
          <!-- JS injects border cards here -->
        </div>
        
        <!-- VIA Rail Subsection -->
        <div class="via-rail-section">
          <div class="via-rail-header">
            <img src="assets/ViaRail.png" alt="Via Rail" class="h-6 w-auto" />
            <span class="font-bold text-white">Via Rail Schedule</span>
          </div>
          <div id="via-rail-data" class="via-rail-content">Loading train info...</div>
        </div>
      </section>

      <!-- Transit Status -->
      <section id="transit-section" class="bg-white rounded-lg shadow-md border border-border-gray overflow-hidden flex flex-col">
        <div class="bg-gradient-to-r from-primary to-secondary text-white px-4 py-3 flex items-center justify-between">
          <div class="flex items-center gap-2">
            <img src="assets/SarniaTransit.png" alt="Sarnia Transit" class="h-6 w-auto" />
            <h2 class="text-base md:text-lg font-bold">Transit Status</h2>
          </div>
          <div id="transit-updated" class="text-xs opacity-90"></div>
        </div>
        <div id="transit-data" class="p-4 flex-1 overflow-y-auto lg:overflow-visible lg:max-h-none max-h-80 space-y-3">Loading transit info...</div>
      </section>

      <!-- Weather Pulse -->
      <section id="weather-section" class="bg-white rounded-lg shadow-md border border-border-gray overflow-hidden flex flex-col">
        <div class="bg-gradient-to-r from-primary to-secondary text-white px-4 py-3">
          <h2 class="text-base md:text-lg font-bold">Weather Pulse</h2>
        </div>
        <div class="p-4 flex-1 space-y-3">
          
          <!-- Today's Forecast -->
          <div>
            <h3 class="text-sm md:text-base font-semibold text-primary border-b border-border-gray pb-2 mb-2">Today</h3>
            <div id="today-container" class="grid grid-cols-1 md:grid-cols-3 gap-2">
              <!-- JS injects morning/afternoon/evening -->
            </div>
          </div>

          <!-- Three-Day Forecast -->
          <div>
            <h3 class="text-sm md:text-base font-semibold text-primary border-b border-border-gray pb-2 mb-2">Forecast</h3>
            <div id="three-day-container" class="grid grid-cols-1 md:grid-cols-3 gap-2">
              <!-- JS injects 3-day cards -->
            </div>
          </div>
          
        </div>
      </section>

      <!-- Local News -->
      <section id="news-carousel-container" class="bg-white rounded-lg shadow-md border border-border-gray overflow-hidden flex flex-col md:col-span-2 lg:col-span-2">
        <div class="bg-gradient-to-r from-primary to-secondary text-white px-4 py-3">
          <h2 class="text-base md:text-lg font-bold">Local News</h2>
        </div>
        
        <div class="bg-blue-50 px-4 py-2 text-xs text-gray-600 border-b border-border-gray">
          <p>üì∞ News headlines displayed under Canadian fair dealing provisions for news reporting and commentary. Summaries are original content and do not reproduce copyrighted material. Full stories available at source.</p>
        </div>
        
        <div id="news-carousel" class="p-4 flex-1 min-h-[150px]">
          <div class="news-content">
            <p id="headline" class="text-base md:text-lg font-semibold text-gray-800 mb-3 leading-relaxed">Loading news...</p>
            <div class="flex gap-4 text-xs md:text-sm text-gray-500 flex-wrap">
              <span id="news-source" class="news-source"></span>
              <span id="news-timestamp" class="news-timestamp"></span>
            </div>
          </div>
        </div>
        
        <div id="news-loading" class="loading-state hidden">
          <div class="spinner"></div>
        </div>
        <div id="news-error" class="error-state hidden">
          <p>‚ö†Ô∏è News unavailable</p>
        </div>
      </section>

      <!-- Community Events -->
      <section id="events" class="bg-white rounded-lg shadow-md border border-border-gray overflow-hidden flex flex-col lg:col-span-1">
        <div class="bg-gradient-to-r from-primary to-secondary text-white px-4 py-3">
          <h2 class="text-base md:text-lg font-bold">Community Events</h2>
        </div>
        <div id="event-carousel" class="p-4 flex-1 overflow-y-auto lg:overflow-visible lg:max-h-none max-h-80 space-y-3"></div>
      </section>

    </div>

  </main>

  <!-- QR Code Widget - Bottom Right Corner -->
  <div class="qr-code-widget fixed bottom-5 right-5 bg-white rounded-lg shadow-xl p-4 text-center z-40 hidden md:block">
    <img src="assets/ithero-logo-light.png" alt="IThero Solutions" class="w-20 mx-auto mb-2">
    <div class="text-xs font-semibold text-gray-600 mb-2">Scan to Visit</div>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://itherosolutions.ca&color=c62828&bgcolor=f7a400" 
         alt="QR Code for itherosolutions.ca" 
         class="w-24 h-24 mx-auto">
    <div class="text-xs text-gray-500 mt-2">itherosolutions.ca</div>
  </div>

  <!-- Advertisement Module - Above QR Code -->
  <section id="advertisement" class="fixed bottom-72 right-5 w-64 bg-white rounded-lg shadow-xl border-2 border-primary overflow-hidden z-50 hidden lg:block">
    <div class="bg-gradient-to-r from-primary to-secondary text-white px-3 py-2">
      <h2 class="text-sm font-bold">Your Ad Here</h2>
    </div>
    <div class="ad-carousel relative h-44">
      <div class="ad-slot active p-6 text-center flex flex-col items-center justify-center h-full" data-ad="1">
        <div class="text-4xl mb-3">üì¢</div>
        <h3 class="text-base font-bold text-gray-800 mb-2">Advertise Here</h3>
        <p class="text-xs text-gray-600 mb-3">Reach thousands of local residents daily</p>
        <div class="text-xs text-blue-600 font-semibold">Contact: ads@itherosolutions.ca</div>
      </div>
      <div class="ad-slot p-6 text-center hidden flex-col items-center justify-center h-full" data-ad="2">
        <div class="text-4xl mb-3">üéØ</div>
        <h3 class="text-base font-bold text-gray-800 mb-2">Premium Placement</h3>
        <p class="text-xs text-gray-600 mb-3">Showcase your business to the community</p>
        <div class="text-xs text-blue-600 font-semibold">Contact: ads@itherosolutions.ca</div>
      </div>
      <div class="ad-slot p-6 text-center hidden flex-col items-center justify-center h-full" data-ad="3">
        <div class="text-4xl mb-3">üíº</div>
        <h3 class="text-base font-bold text-gray-800 mb-2">Local Business Spotlight</h3>
        <p class="text-xs text-gray-600 mb-3">Connect with your neighbors</p>
        <div class="text-xs text-blue-600 font-semibold">Contact: ads@itherosolutions.ca</div>
      </div>
    </div>
    <div class="ad-indicators flex justify-center gap-2 py-2 bg-gray-50">
      <span class="ad-dot w-2 h-2 rounded-full bg-primary cursor-pointer" data-slide="1"></span>
      <span class="ad-dot w-2 h-2 rounded-full bg-gray-300 cursor-pointer" data-slide="2"></span>
      <span class="ad-dot w-2 h-2 rounded-full bg-gray-300 cursor-pointer" data-slide="3"></span>
    </div>
  </section>

  <script src="script.js"></script>
  <script src="script-tailwind.js"></script>
  <script src="events.js"></script>
</body>
</html>
